"use strict";(self["webpackChunkvue_h5_template"]=self["webpackChunkvue_h5_template"]||[]).push([[644],{68542:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ht}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index-container"},[t("Launcher",{attrs:{participants:e.participants,titleImageUrl:e.titleImageUrl,onMessageWasSent:e.onMessageWasSent,messageList:e.messageList,newMessagesCount:e.newMessagesCount,isOpen:e.isChatOpen,close:e.closeChat,open:e.openChat,showEmoji:!0,showFile:!0,showEdition:!0,showDeletion:!0,showTypingIndicator:e.showTypingIndicator,showLauncher:!0,showCloseButton:!0,colors:e.colors,alwaysScrollToBottom:e.alwaysScrollToBottom,disableUserListToggle:!0,messageStyling:e.messageStyling},on:{onType:e.handleOnType,edit:e.editMessage}})],1)},i=[],a=function(){var e=this,t=e._self._c;return t("div",[e.showLauncher?t("div",{staticClass:"sc-launcher",class:{opened:e.isOpen},style:{backgroundColor:e.colors.launcher.bg},on:{click:function(t){t.preventDefault(),e.isOpen?e.close():e.openAndFocus()}}},[e.newMessagesCount>0&&!e.isOpen?t("div",{staticClass:"sc-new-messsages-count"},[e._v(" "+e._s(e.newMessagesCount)+" ")]):e._e(),e.isOpen?t("img",{staticClass:"sc-closed-icon",attrs:{src:e.icons.close.img,alt:e.icons.close.name}}):t("img",{staticClass:"sc-open-icon",attrs:{src:e.icons.open.img,alt:e.icons.open.name}})]):e._e(),t("ChatWindow",{attrs:{"message-list":e.messageList,"on-user-input-submit":e.onMessageWasSent,participants:e.participants,title:e.chatWindowTitle,"is-open":e.isOpen,"show-emoji":e.showEmoji,"show-file":e.showFile,"show-header":e.showHeader,placeholder:e.placeholder,"show-typing-indicator":e.showTypingIndicator,colors:e.colors,"always-scroll-to-bottom":e.alwaysScrollToBottom,"message-styling":e.messageStyling},on:{close:e.close,scrollToTop:function(t){return e.$emit("scrollToTop")},onType:function(t){return e.$emit("onType")},edit:function(t){return e.$emit("edit",t)},remove:function(t){return e.$emit("remove",t)}},scopedSlots:e._u([{key:"header",fn:function(){return[e._t("header")]},proxy:!0},{key:"user-avatar",fn:function(t){return[e._t("user-avatar",null,{user:t.user,message:t.message})]}},{key:"text-message-body",fn:function(t){return[e._t("text-message-body",null,{message:t.message,messageText:t.messageText,messageColors:t.messageColors,me:t.me})]}},{key:"system-message-body",fn:function(t){return[e._t("system-message-body",null,{message:t.message})]}},{key:"text-message-toolbox",fn:function(t){return[e._t("text-message-toolbox",null,{message:t.message,me:t.me})]}}],null,!0)})],1)},n=[],r=s(20144);const l={state:r.ZP.observable({editMessage:null}),setState(e,t){r.ZP.set(this.state,e,t)}};function c(e){const t={};return e.forEach((e=>{t[e]=function(){return l.state[e]}})),t}var u=l,g=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-chat-window",class:{opened:e.isOpen,closed:!e.isOpen}},[e.showHeader?t("Header",{attrs:{title:e.title,colors:e.colors},on:{close:function(t){return e.$emit("close")},userList:e.handleUserListToggle}},[[e._t("header")]],2):e._e(),e.showUserList?t("UserList",{attrs:{colors:e.colors,participants:e.participants}}):e._e(),e.showUserList?e._e():t("MessageList",{attrs:{messages:e.messages,participants:e.participants,"show-typing-indicator":e.showTypingIndicator,colors:e.colors,"always-scroll-to-bottom":e.alwaysScrollToBottom,"message-styling":e.messageStyling},on:{scrollToTop:function(t){return e.$emit("scrollToTop")},remove:function(t){return e.$emit("remove",t)}},scopedSlots:e._u([{key:"user-avatar",fn:function(t){return[e._t("user-avatar",null,{user:t.user,message:t.message})]}},{key:"text-message-body",fn:function(t){return[e._t("text-message-body",null,{message:t.message,messageText:t.messageText,messageColors:t.messageColors,me:t.me})]}},{key:"system-message-body",fn:function(t){return[e._t("system-message-body",null,{message:t.message})]}},{key:"text-message-toolbox",fn:function(t){return[e._t("text-message-toolbox",null,{message:t.message,me:t.me})]}}],null,!0)}),e.showUserList?e._e():t("UserInput",{attrs:{"show-emoji":e.showEmoji,"on-submit":e.onUserInputSubmit,suggestions:e.getSuggestions(),"show-file":e.showFile,placeholder:e.placeholder,colors:e.colors},on:{onType:function(t){return e.$emit("onType")},edit:function(t){return e.$emit("edit",t)}}})],1)},m=[],d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-header",style:{background:e.colors.header.bg,color:e.colors.header.text}},[e._t("default",(function(){return[e.titleImageUrl?t("img",{staticClass:"sc-header--img",attrs:{src:e.titleImageUrl,alt:""}}):e._e(),e.disableUserListToggle?t("div",{staticClass:"sc-header--title"},[e._v(e._s(e.title))]):t("div",{staticClass:"sc-header--title enabled",on:{click:e.toggleUserList}},[e._v(" "+e._s(e.title)+" ")])]})),e.showCloseButton?t("div",{staticClass:"sc-header--close-button",on:{click:function(t){return e.$emit("close")}}},[t("img",{attrs:{src:e.icons.close.img,alt:e.icons.close.name}})]):e._e()],2)},p=[],h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAfCAMAAACxiD++AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcf///////////////////////////////////////////////////////3EAnbYAAAAOdFJOUwADZ66SoQjEhnS7/gsNGQL7+wAAAKtJREFUKM+F01sOhCAQRNESFV/I/pc70Og0YJfyJbmHhBAbGGYHstw8IPV4EOGOmERYIhGpxyUAJxHSz/xlC+1FxE64qB1yj1ZID7oXsel+63ovnj2JXUXue+hvrcLugL+EdG+9XBG8X+Kl34J3YM1g/egvIvdx5EK691RIz78YEXdnQrst6m6JqemXmNo+D/WJNAyVePZWWL0WdlfB+l+UAQQReaAc65DB/wGsZgzLN0IQWAAAAABJRU5ErkJggg==",f={props:{icons:{type:Object,default:function(){return{close:{img:h,name:"default"}}}},title:{type:String,required:!0},colors:{type:Object,required:!0}},data(){return{inUserList:!1}},computed:{...c(["disableUserListToggle","titleImageUrl","showCloseButton"])},methods:{toggleUserList(){this.inUserList=!this.inUserList,this.$emit("userList",this.inUserList)}}},y=f,b=s(1001),v=(0,b.Z)(y,d,p,!1,null,"51dc8b62",null),_=v.exports,x=function(){var e=this,t=e._self._c;return t("div",{ref:"scrollList",staticClass:"sc-message-list",style:{backgroundColor:e.colors.messageList.bg},on:{scroll:e.handleScroll}},[e._l(e.messages,(function(s,o){return t("Message",{key:o,attrs:{message:s,user:e.profile(s.author),colors:e.colors,"message-styling":e.messageStyling},on:{remove:function(t){return e.$emit("remove",s)}},scopedSlots:e._u([{key:"user-avatar",fn:function(t){return[e._t("user-avatar",null,{user:t.user,message:t.message})]}},{key:"text-message-body",fn:function(t){return[e._t("text-message-body",null,{message:t.message,messageText:t.messageText,messageColors:t.messageColors,me:t.me})]}},{key:"system-message-body",fn:function(t){return[e._t("system-message-body",null,{message:t.message})]}},{key:"text-message-toolbox",fn:function(t){return[e._t("text-message-toolbox",null,{message:t.message,me:t.me})]}}],null,!0)})})),t("Message",{directives:[{name:"show",rawName:"v-show",value:""!==e.showTypingIndicator,expression:"showTypingIndicator !== ''"}],attrs:{message:{author:e.showTypingIndicator,type:"typing"},user:e.profile(e.showTypingIndicator),colors:e.colors,"message-styling":e.messageStyling}})],2)},C=[],w=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-message",attrs:{id:e.message.id}},[t("div",{staticClass:"sc-message--content",class:{sent:"me"===e.message.author,received:"me"!==e.message.author&&"system"!==e.message.type,system:"system"===e.message.type}},[e._t("user-avatar",(function(){return[t("van-popover",{attrs:{trigger:"click",actions:[{text:e.authorName}],theme:"dark"},scopedSlots:e._u([{key:"reference",fn:function(){return[t("div",{staticClass:"sc-message--avatar",style:{backgroundImage:`url(${e.chatImageUrl})`},attrs:{title:e.authorName}})]},proxy:!0}]),model:{value:e.showPopover,callback:function(t){e.showPopover=t},expression:"showPopover"}})]}),{message:e.message,user:e.user}),"text"===e.message.type?t("TextMessage",{attrs:{message:e.message,"message-colors":e.messageColors,"message-styling":e.messageStyling},on:{remove:function(t){return e.$emit("remove")}},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("text-message-body",null,{message:t.message,messageText:t.messageText,messageColors:t.messageColors,me:t.me})]}},{key:"text-message-toolbox",fn:function(t){return[e._t("text-message-toolbox",null,{message:t.message,me:t.me})]}}],null,!0)}):"emoji"===e.message.type?t("EmojiMessage",{attrs:{data:e.message.data}}):"file"===e.message.type?t("FileMessage",{attrs:{data:e.message.data,"message-colors":e.messageColors}}):"typing"===e.message.type?t("TypingMessage",{attrs:{"message-colors":e.messageColors}}):"system"===e.message.type?t("SystemMessage",{attrs:{data:e.message.data,"message-colors":e.messageColors}},[e._t("system-message-body",null,{message:e.message.data})],2):e._e()],2)])},A=[],S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-message--text",style:e.messageColors},[[t("div",{staticClass:"sc-message--toolbox",style:{background:e.messageColors.backgroundColor}},[e.showEdition&&e.me&&e.message.id?t("button",{attrs:{disabled:e.isEditing},on:{click:e.edit}},[t("IconBase",{attrs:{color:e.isEditing?"black":e.messageColors.color,width:"10","icon-name":"edit"}},[t("IconEdit")],1)],1):e._e(),e.showDeletion&&e.me&&e.message.id?t("button",{on:{click:function(t){return e.$emit("remove")}}},[t("IconBase",{attrs:{color:e.messageColors.color,width:"10","icon-name":"remove"}},[t("IconCross")],1)],1):e._e(),e._t("text-message-toolbox",null,{message:e.message,me:e.me})],2)],e._t("default",(function(){return[t("p",{staticClass:"sc-message--text-content",domProps:{innerHTML:e._s(e.messageText)}}),e.message.data.meta?t("p",{staticClass:"sc-message--meta",style:{color:e.messageColors.color}},[e._v(" "+e._s(e.message.data.meta)+" ")]):e._e(),e.message.isEdited?t("p",{staticClass:"sc-message--edited"},[t("IconBase",{attrs:{width:"10","icon-name":"edited"}},[t("IconEdit")],1),e._v(" edited ")],1):e._e()]}),{message:e.message,messageText:e.messageText,messageColors:e.messageColors,me:e.me})],2)},I=[],k=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:e.viewBox,"aria-labelledby":e.iconName,role:"presentation"}},[t("title",{attrs:{id:e.iconName,lang:"en"}},[e._v(e._s(e.iconName))]),t("g",{attrs:{fill:e.iconColor}},[e._t("default")],2)])},M=[],T={props:{iconName:{type:String,default:"box"},width:{type:[Number,String],default:18},height:{type:[Number,String],default:18},viewBox:{type:String,default:"0 0 18 18"},iconColor:{type:String,default:"currentColor"}}},j=T,L=(0,b.Z)(j,k,M,!1,null,"4339dcad",null),B=L.exports,U=function(){var e=this,t=e._self._c;return t("path",{attrs:{d:"M19.404,6.65l-5.998-5.996c-0.292-0.292-0.765-0.292-1.056,0l-2.22,2.22l-8.311,8.313l-0.003,0.001v0.003l-0.161,0.161c-0.114,0.112-0.187,0.258-0.21,0.417l-1.059,7.051c-0.035,0.233,0.044,0.47,0.21,0.639c0.143,0.14,0.333,0.219,0.528,0.219c0.038,0,0.073-0.003,0.111-0.009l7.054-1.055c0.158-0.025,0.306-0.098,0.417-0.211l8.478-8.476l2.22-2.22C19.695,7.414,19.695,6.941,19.404,6.65z M8.341,16.656l-0.989-0.99l7.258-7.258l0.989,0.99L8.341,16.656z M2.332,15.919l0.411-2.748l4.143,4.143l-2.748,0.41L2.332,15.919z M13.554,7.351L6.296,14.61l-0.849-0.848l7.259-7.258l0.423,0.424L13.554,7.351zM10.658,4.457l0.992,0.99l-7.259,7.258L3.4,11.715L10.658,4.457z M16.656,8.342l-1.517-1.517V6.823h-0.003l-0.951-0.951l-2.471-2.471l1.164-1.164l4.942,4.94L16.656,8.342z"}})},E=[],O={},q=(0,b.Z)(O,U,E,!1,null,null,null),F=q.exports,$=function(){var e=this,t=e._self._c;return t("path",{attrs:{d:"M15.9 4.04a.7.7 0 00-.99 0l-4.7 4.72-4.72-4.71a.7.7 0 00-.98.98l4.7 4.71-4.7 4.71a.7.7 0 00.98.99l4.71-4.71 4.71 4.7a.7.7 0 00.99 0 .7.7 0 000-.98l-4.71-4.7 4.7-4.72a.7.7 0 000-.99z"}})},P=[],N={},Z=(0,b.Z)(N,$,P,!1,null,null,null),D=Z.exports,z=s(46779),W=s(51841);const H=s(50913);var J={components:{IconBase:B,IconCross:D,IconEdit:F},props:{message:{type:Object,required:!0},messageColors:{type:Object,required:!0},messageStyling:{type:Boolean,required:!0}},computed:{messageText(){const e=(0,z.T)(this.message.data.text);return W.ZP.link(this.messageStyling?H(e):e,{className:"chatLink",truncate:{length:50,location:"smart"}})},me(){return"me"===this.message.author},isEditing(){return(u.state.editMessage&&u.state.editMessage.id)===this.message.id},...c(["showDeletion","showEdition"])},methods:{edit(){u.setState("editMessage",this.message)}}},Q=J,G=(0,b.Z)(Q,S,I,!1,null,"28895b73",null),X=G.exports,R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-message--file",style:e.messageColors},[t("div",{staticClass:"sc-message--file-icon"},[t("img",{staticClass:"sc-image",attrs:{src:e.data.file.url}})]),t("div",{staticClass:"sc-message--file-name",style:e.messageColors},[t("a",{attrs:{href:e.data.file.url?e.data.file.url:"#",target:"_blank"}},[e._v(e._s(e.data.file.name||""))])]),t("div",{staticClass:"sc-message--file-text",style:e.messageColors},[e._v(" "+e._s(e.data.text)+" "),e.data.meta?t("p",{staticClass:"sc-message--meta",style:e.messageColors},[e._v(" "+e._s(e.data.meta)+" ")]):e._e()])])},K=[],V={props:{data:{type:Object,required:!0},messageColors:{type:Object,required:!0}}},Y=V,ee=(0,b.Z)(Y,R,K,!1,null,"f8de948c",null),te=ee.exports,se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-message--emoji"},[e._v(e._s(e.data.emoji))])},oe=[],ie={props:{data:{type:Object,required:!0}}},ae=ie,ne=(0,b.Z)(ae,se,oe,!1,null,"31eb6bba",null),re=ne.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-typing-indicator",style:e.messageColors},[t("span"),t("span"),t("span")])},ce=[],ue={props:{messageColors:{type:Object,required:!0}}},ge=ue,me=(0,b.Z)(ge,le,ce,!1,null,"5454cb3c",null),de=me.exports,pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-message--system",style:e.messageColors},[e._t("default",(function(){return[e._v(" "+e._s(e.data.text)+" "),e.data.meta?t("p",{staticClass:"sc-message--meta",style:{color:e.messageColors.color}},[e._v(" "+e._s(e.data.meta)+" ")]):e._e()]}),{message:e.data})],2)},he=[],fe={props:{data:{type:Object,required:!0},messageColors:{type:Object,required:!0}}},ye=fe,be=(0,b.Z)(ye,pe,he,!1,null,"3beba850",null),ve=be.exports,_e=s.p+"static/img/chat-icon.e3ad964e.svg",xe={data(){return{showPopover:!1}},components:{TextMessage:X,FileMessage:te,EmojiMessage:re,TypingMessage:de,SystemMessage:ve},props:{message:{type:Object,required:!0},colors:{type:Object,required:!0},messageStyling:{type:Boolean,required:!0},user:{type:Object,required:!0}},computed:{authorName(){return this.user&&this.user.name||"游客"},chatImageUrl(){return this.user&&this.user.imageUrl||_e},messageColors(){return"me"===this.message.author?this.sentColorsStyle:this.receivedColorsStyle},receivedColorsStyle(){return{color:this.colors.receivedMessage.text,backgroundColor:this.colors.receivedMessage.bg}},sentColorsStyle(){return{color:this.colors.sentMessage.text,backgroundColor:this.colors.sentMessage.bg}}},methods:{}},Ce=xe,we=(0,b.Z)(Ce,w,A,!1,null,null,null),Ae=we.exports,Se={components:{Message:Ae},props:{participants:{type:Array,required:!0},messages:{type:Array,required:!0},showTypingIndicator:{type:String,required:!0},colors:{type:Object,required:!0},alwaysScrollToBottom:{type:Boolean,required:!0},messageStyling:{type:Boolean,required:!0}},computed:{defaultChatIcon(){return _e}},mounted(){this.$nextTick(this._scrollDown())},updated(){this.shouldScrollToBottom()&&this.$nextTick(this._scrollDown())},methods:{_scrollDown(){this.$refs.scrollList.scrollTop=this.$refs.scrollList.scrollHeight},handleScroll(e){0===e.target.scrollTop&&this.$emit("scrollToTop")},shouldScrollToBottom(){const e=this.$refs.scrollList.scrollTop,t=e>this.$refs.scrollList.scrollHeight-600;return this.alwaysScrollToBottom||t},profile(e){const t=this.participants.find((t=>t.id===e));return t||{imageUrl:"",name:""}}}},Ie=Se,ke=(0,b.Z)(Ie,x,C,!1,null,"1fbfa26e",null),Me=ke.exports,Te=function(){var e=this,t=e._self._c;return t("div",[t("Suggestions",{attrs:{suggestions:e.suggestions,colors:e.colors},on:{sendSuggestion:e._submitSuggestion}}),e.file?t("div",{staticClass:"file-container",style:{backgroundColor:e.colors.userInput.text,color:e.colors.userInput.bg}},[t("span",{staticClass:"icon-file-message"},[t("img",{attrs:{src:e.icons.file.img,alt:e.icons.file.name,height:"15"}})]),e._v(" "+e._s(e.file.name)+" "),t("span",{staticClass:"delete-file-message",on:{click:function(t){return e.cancelFile()}}},[t("img",{attrs:{src:e.icons.closeSvg.img,alt:e.icons.closeSvg.name,height:"10",title:"Remove the file"}})])]):e._e(),t("form",{staticClass:"sc-user-input",class:{active:e.inputActive},style:{background:e.colors.userInput.bg}},[t("div",{ref:"userInput",staticClass:"sc-user-input--text",style:{color:e.colors.userInput.text},attrs:{role:"button",tabIndex:"0",contentEditable:"true",placeholder:e.placeholder},on:{focus:function(t){return e.setInputActive(!0)},blur:function(t){return e.setInputActive(!1)},keydown:e.handleKey,focusUserInput:function(t){return e.focusUserInput()}}}),t("div",{staticClass:"sc-user-input--buttons"},[e.showEmoji&&!e.isEditing?t("div",{staticClass:"sc-user-input--button"},[t("EmojiIcon",{attrs:{"on-emoji-picked":e._handleEmojiPicked,color:e.colors.userInput.text}})],1):e._e(),e.showFile&&!e.isEditing?t("div",{staticClass:"sc-user-input--button"},[t("FileIcons",{attrs:{"on-change":e._handleFileSubmit,color:e.colors.userInput.text}})],1):e._e(),e.isEditing?t("div",{staticClass:"sc-user-input--button"},[t("UserInputButton",{attrs:{color:e.colors.userInput.text,tooltip:"Cancel"},nativeOn:{click:function(t){return t.preventDefault(),e._editFinish.apply(null,arguments)}}},[t("IconCross")],1)],1):e._e(),t("div",{staticClass:"sc-user-input--button"},[e.isEditing?t("UserInputButton",{attrs:{color:e.colors.userInput.text,tooltip:"Edit"},nativeOn:{click:function(t){return t.preventDefault(),e._editText.apply(null,arguments)}}},[t("IconOk")],1):t("UserInputButton",{attrs:{color:e.colors.userInput.text,tooltip:"Send"},nativeOn:{click:function(t){return t.preventDefault(),e._submitText.apply(null,arguments)}}},[t("IconSend")],1)],1)])])],1)},je=[],Le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-user-input--picker-wrapper"},[e.isActive?t("EmojiPicker",{attrs:{"on-emoji-picked":e.onEmojiPicked,"on-blur":e._handlePickerBlur}}):e._e(),t("button",{staticClass:"sc-user-input--emoji-icon-wrapper",on:{click:function(t){return t.preventDefault(),e._openPicker.apply(null,arguments)}}},[t("svg",{staticClass:"sc-user-input--emoji-icon",class:{active:e.isActive},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 37.4 37.4"}},[t("path",{style:{fill:e.color},attrs:{d:"M18.7 37.4C8.39 37.4 0 29 0 18.7 0 8.39 8.39 0 18.7 0 29 0 37.4 8.39 37.4 18.7c0 10.3-8.4 18.7-18.7 18.7zm0-35.4C9.49 2 2 9.49 2 18.7c0 9.2 7.49 16.7 16.7 16.7 9.2 0 16.7-7.5 16.7-16.7C35.4 9.49 27.9 2 18.7 2z"}}),t("circle",{style:{fill:e.color},attrs:{cx:"12.38",cy:"14.36",r:"1.94"}}),t("circle",{style:{fill:e.color},attrs:{cx:"24.37",cy:"14.41",r:"1.99"}}),t("path",{style:{fill:e.color},attrs:{d:"M18.04 27.45a10 10 0 01-8.45-4.35 1 1 0 011.7-1.04c.1.15 2.17 3.4 6.75 3.4 4.7 0 7.51-3.47 7.54-3.5a1 1 0 011.57 1.24c-.14.17-3.45 4.25-9.11 4.25z"}})])])],1)},Be=[],Ue=function(){var e=this,t=e._self._c;return t("div",{ref:"domNode",staticClass:"sc-emoji-picker",attrs:{tabIndex:"0"},on:{blur:e.onBlur}},[t("div",{staticClass:"sc-emoji-picker--content"},e._l(e.emojiData,(function(s){return t("div",{key:s.name,staticClass:"sc-emoji-picker--category"},[t("div",{staticClass:"sc-emoji-picker--category-title"},[e._v(e._s(s.name))]),e._l(s.emojis,(function(s){return t("span",{key:s,staticClass:"sc-emoji-picker--emoji",on:{click:function(t){return e.emojiClicked(s)}}},[e._v(" "+e._s(s)+" ")])}))],2)})),0)])},Ee=[],Oe=s(94968),qe=s.n(Oe),Fe=[{name:"People",emojis:["😄","😃","😀","😊","😉","😍","😘","😚","😗","😙","😜","😝","😛","😳","😁","😔","😌","😒","😞","😣","😢","😂","😭","😪","😥","😰","😅","😓","😩","😫","😨","😱","😠","😡","😤","😖","😆","😋","😷","😎","😴","😵","😲","😟","😦","😧","👿","😮","😬","😐","😕","😯","😏","😑","👲","👳","👮","👷","💂","👶","👦","👧","👨","👩","👴","👵","👱","👼","👸","😺","😸","😻","😽","😼","🙀","😿","😹","😾","👹","👺","🙈","🙉","🙊","💀","👽","💩","🔥","✨","🌟","💫","💥","💢","💦","💧","💤","💨","👂","👀","👃","👅","👄","👍","👎","👌","👊","✊","👋","✋","👐","👆","👇","👉","👈","🙌","🙏","👏","💪","🚶","🏃","💃","👫","👪","💏","💑","👯","🙆","🙅","💁","🙋","💆","💇","💅","👰","🙎","🙍","🙇","🎩","👑","👒","👟","👞","👡","👠","👢","👕","👔","👚","👗","🎽","👖","👘","👙","💼","👜","👝","👛","👓","🎀","🌂","💄","💛","💙","💜","💚","💔","💗","💓","💕","💖","💞","💘","💌","💋","💍","💎","👤","💬","👣"]},{name:"Nature",emojis:["🐶","🐺","🐱","🐭","🐹","🐰","🐸","🐯","🐨","🐻","🐷","🐽","🐮","🐗","🐵","🐒","🐴","🐑","🐘","🐼","🐧","🐦","🐤","🐥","🐣","🐔","🐍","🐢","🐛","🐝","🐜","🐞","🐌","🐙","🐚","🐠","🐟","🐬","🐳","🐎","🐲","🐡","🐫","🐩","🐾","💐","🌸","🌷","🍀","🌹","🌻","🌺","🍁","🍃","🍂","🌿","🌾","🍄","🌵","🌴","🌰","🌱","🌼","🌑","🌓","🌔","🌕","🌛","🌙","🌏","🌋","🌌","🌠","⛅","⛄","🌀","🌁","🌈","🌊"]},{name:"Objects",emojis:["🎍","💝","🎎","🎒","🎓","🎏","🎆","🎇","🎐","🎑","🎃","👻","🎅","🎄","🎁","🎋","🎉","🎊","🎈","🎌","🔮","🎥","📷","📹","📼","💿","📀","💽","💾","💻","📱","📞","📟","📠","📡","📺","📻","🔊","🔔","📢","📣","⏳","⌛","⏰","⌚","🔓","🔒","🔏","🔐","🔑","🔎","💡","🔦","🔌","🔋","🔍","🛀","🚽","🔧","🔩","🔨","🚪","🚬","💣","🔫","🔪","💊","💉","💰","💴","💵","💳","💸","📲","📧","📥","📤","📩","📨","📫","📪","📮","📦","📝","📄","📃","📑","📊","📈","📉","📜","📋","📅","📆","📇","📁","📂","📌","📎","📏","📐","📕","📗","📘","📙","📓","📔","📒","📚","📖","🔖","📛","📰","🎨","🎬","🎤","🎧","🎼","🎵","🎶","🎹","🎻","🎺","🎷","🎸","👾","🎮","🃏","🎴","🀄","🎲","🎯","🏈","🏀","⚽","⚾","🎾","🎱","🎳","⛳","🏁","🏆","🎿","🏂","🏊","🏄","🎣","🍵","🍶","🍺","🍻","🍸","🍹","🍷","🍴","🍕","🍔","🍟","🍗","🍖","🍝","🍛","🍤","🍱","🍣","🍥","🍙","🍘","🍚","🍜","🍲","🍢","🍡","🍳","🍞","🍩","🍮","🍦","🍨","🍧","🎂","🍰","🍪","🍫","🍬","🍭","🍯","🍎","🍏","🍊","🍒","🍇","🍉","🍓","🍑","🍈","🍌","🍍","🍠","🍆","🍅","🌽"]},{name:"Places",emojis:["🏠","🏡","🏫","🏢","🏣","🏥","🏦","🏪","🏩","🏨","💒","⛪","🏬","🌇","🌆","🏯","🏰","⛺","🏭","🗼","🗾","🗻","🌄","🌅","🌃","🗽","🌉","🎠","🎡","⛲","🎢","🚢","⛵","🚤","🚀","💺","🚉","🚄","🚅","🚇","🚃","🚌","🚙","🚗","🚕","🚚","🚨","🚓","🚒","🚑","🚲","💈","🚏","🎫","🚥","🚧","🔰","⛽","🏮","🎰","🗿","🎪","🎭","📍","🚩"]},{name:"Symbols",emojis:["🔟","🔢","🔣","🔠","🔡","🔤","🔼","🔽","⏪","⏩","⏫","⏬","🆗","🆕","🆙","🆒","🆓","🆖","📶","🎦","🈁","🈯","🈳","🈵","🈴","🈲","🉐","🈹","🈺","🈶","🈚","🚻","🚹","🚺","🚼","🚾","🚭","🈸","🉑","🆑","🆘","🆔","🚫","🔞","⛔","❎","✅","💟","🆚","📳","📴","🆎","💠","⛎","🔯","🏧","💹","💲","💱","❌","❗","❓","❕","❔","⭕","🔝","🔚","🔙","🔛","🔜","🔃","🕛","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚","➕","➖","➗","💮","💯","🔘","🔗","➰","🔱","🔺","🔲","🔳","🔴","🔵","🔻","⬜","⬛","🔶","🔷","🔸","🔹"]}],$e={props:{onBlur:{type:Function,required:!0},onEmojiPicked:{type:Function,required:!0}},data(){return{emojiData:Fe,emojiConvertor:new(qe())}},mounted(){const e=this.$refs.domNode;e.style.opacity=0,window.requestAnimationFrame((()=>{e.style.transition="opacity 350ms",e.style.opacity=1})),this.$refs.domNode.focus(),this.emojiConvertor.init_env()},methods:{emojiClicked(e){this.onEmojiPicked(e),this.$refs.domNode.blur()}}},Pe=$e,Ne=(0,b.Z)(Pe,Ue,Ee,!1,null,"e9b04028",null),Ze=Ne.exports,De={components:{EmojiPicker:Ze},props:{onEmojiPicked:{type:Function,required:!0},color:{type:String,required:!0}},data(){return{isActive:!1}},methods:{_openPicker(e){this.isActive=!this.isActive},_handlePickerBlur(){this.isActive=!1}}},ze=De,We=(0,b.Z)(ze,Le,Be,!1,null,"068a18ab",null),He=We.exports,Je=function(){var e=this,t=e._self._c;return t("label",{staticClass:"sc-user-input--file-icon-wrapper",attrs:{role:"button"}},[t("svg",{staticClass:"sc-user-input--file-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 31.4 34.4"}},[t("path",{style:{fill:e.color},attrs:{d:"M20.8 10.22l-2.02-2.03L8.63 18.34a4.3 4.3 0 106.09 6.09L26.9 12.25A7.17 7.17 0 1016.75 2.1L3.96 14.9l-.03.02A10 10 0 1018.1 29.07l.02-.03 8.73-8.73-2.03-2.02L16.1 27l-.03.03a7.15 7.15 0 01-10.1-10.1l.03-.02L18.78 4.13a4.31 4.31 0 016.09 6.09L12.69 22.4a1.44 1.44 0 01-2.03-2.03l10.15-10.15z"}})]),t("input",{attrs:{type:"file"},on:{change:e._handleChange}})])},Qe=[],Ge={props:{onChange:{type:Function,required:!0},color:{type:String,required:!0}},methods:{_handleChange(e){this.onChange(e.target.files[0])}}},Xe=Ge,Re=(0,b.Z)(Xe,Je,Qe,!1,null,"ba6bc394",null),Ke=Re.exports,Ve=function(){var e=this,t=e._self._c;return t("button",{staticClass:"sc-user-input--button-icon-wrapper"},[t("IconBase",{attrs:{color:e.color,width:"20",height:"20","view-box":"2.24 2.24 15.52 15.52","icon-name":e.tooltip}},[e._t("default")],2)],1)},Ye=[],et={components:{IconBase:B},props:{color:{type:String,required:!0},tooltip:{type:String,default:""}}},tt=et,st=(0,b.Z)(tt,Ve,Ye,!1,null,"7688cea1",null),ot=st.exports,it=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sc-suggestions-row",style:{background:e.colors.messageList.bg}},e._l(e.suggestions,(function(s,o){return t("button",{key:o,staticClass:"sc-suggestions-element",style:{borderColor:e.colors.sentMessage.bg,color:e.colors.sentMessage.bg},on:{click:function(t){return e.$emit("sendSuggestion",s)}}},[e._v(" "+e._s(s)+" ")])})),0)},at=[],nt={props:{suggestions:{type:Array,default:()=>[]},colors:{type:Object,required:!0}},data(){return{}}},rt=nt,lt=(0,b.Z)(rt,it,at,!1,null,null,null),ct=lt.exports,ut=s.p+"static/img/file.f6da0122.svg",gt=s.p+"static/img/close.36cdbd19.svg",mt=function(){var e=this,t=e._self._c;return t("path",{attrs:{d:"M7.63 14.57a.64.64 0 00.91 0l8.22-8.22a.64.64 0 10-.91-.92L8.08 13.2 4.15 9.27a.65.65 0 00-.9.9l4.38 4.4z"}})},dt=[],pt={},ht=(0,b.Z)(pt,mt,dt,!1,null,null,null),ft=ht.exports,yt=function(){var e=this,t=e._self._c;return t("path",{attrs:{d:"M17.22 2.27L2.48 8.39c-.35.14-.32.66.06.74l6.79 1.54 1.53 6.79c.09.37.6.41.75.06l6.12-14.74a.4.4 0 00-.51-.51M3.92 8.64l11.77-4.89-6.15 6.16-5.62-1.27zm7.44 7.44l-1.27-5.61 6.16-6.16-4.9 11.77z"}})},bt=[],vt={},_t=(0,b.Z)(vt,yt,bt,!1,null,null,null),xt=_t.exports,Ct={components:{EmojiIcon:He,FileIcons:Ke,UserInputButton:ot,Suggestions:ct,IconCross:D,IconOk:ft,IconSend:xt},props:{icons:{type:Object,default:function(){return{file:{img:ut,name:"default"},closeSvg:{img:gt,name:"default"}}}},showEmoji:{type:Boolean,default:()=>!1},suggestions:{type:Array,default:()=>[]},showFile:{type:Boolean,default:()=>!1},onSubmit:{type:Function,required:!0},placeholder:{type:String,default:"Write something..."},colors:{type:Object,required:!0}},data(){return{file:null,inputActive:!1}},computed:{editMessageId(){return this.isEditing&&u.state.editMessage.id},isEditing(){return u.state.editMessage&&u.state.editMessage.id}},watch:{editMessageId(e){null!=u.state.editMessage&&void 0!=u.state.editMessage?(this.$refs.userInput.focus(),this.$refs.userInput.textContent=u.state.editMessage.data.text):this.$refs.userInput.textContent=""}},mounted(){this.$root.$on("focusUserInput",(()=>{this.$refs.userInput&&this.focusUserInput()}))},methods:{cancelFile(){this.file=null},setInputActive(e){this.inputActive=e},handleKey(e){13!==e.keyCode||e.shiftKey?27===e.keyCode&&(this._editFinish(),e.preventDefault()):(this.isEditing?this._editText(e):this._submitText(e),this._editFinish(),e.preventDefault()),this.$emit("onType")},focusUserInput(){this.$nextTick((()=>{this.$refs.userInput.focus()}))},_submitSuggestion(e){this.onSubmit({author:"me",type:"text",data:{text:e}})},_checkSubmitSuccess(e){void 0!==Promise?Promise.resolve(e).then(function(e){(void 0===e||e)&&(this.file=null,this.$refs.userInput.innerHTML="")}.bind(this)):(this.file=null,this.$refs.userInput.innerHTML="")},_submitText(e){const t=this.$refs.userInput.textContent,s=this.file;s?this._submitTextWhenFile(e,t,s):t&&t.length>0&&this._checkSubmitSuccess(this.onSubmit({author:"me",type:"text",data:{text:t}}))},_submitTextWhenFile(e,t,s){t&&t.length>0?this._checkSubmitSuccess(this.onSubmit({author:"me",type:"file",data:{text:t,file:s}})):this._checkSubmitSuccess(this.onSubmit({author:"me",type:"file",data:{file:s}}))},_editText(e){const t=this.$refs.userInput.textContent;t&&t.length&&(this.$emit("edit",{author:"me",type:"text",id:u.state.editMessage.id,data:{text:t}}),this._editFinish())},_handleEmojiPicked(e){this._checkSubmitSuccess(this.onSubmit({author:"me",type:"emoji",data:{emoji:e}}))},_handleFileSubmit(e){this.file=e},_editFinish(){u.setState("editMessage",null)}}},wt=Ct,At=(0,b.Z)(wt,Te,je,!1,null,"86fe5bee",null),St=At.exports,It=function(){var e=this,t=e._self._c;return t("div",{staticClass:"user-list",style:{background:e.userListColor.userList.bg}},[t("table",{staticStyle:{"padding-top":"5px"}},[t("tbody",e._l(e.participants,(function(s){return t("tr",{key:s.id},[t("td",{staticStyle:{"text-align":"center"}},[t("img",{staticClass:"img-msg",attrs:{src:s.imageUrl}})]),t("td",{staticClass:"user-element",style:{color:e.userListColor.userList.text}},[e._v(" "+e._s(s.name)+" ")])])})),0)])])},kt=[],Mt={props:{participants:{type:Array,required:!0},colors:{type:Object,default:()=>({})}},computed:{userListColor(){const e={userList:{bg:"#FFFFFF",text:"#000000"}};return Object.assign(e,this.colors)}}},Tt=Mt,jt=(0,b.Z)(Tt,It,kt,!1,null,"567db4b9",null),Lt=jt.exports,Bt={components:{Header:_,MessageList:Me,UserInput:St,UserList:Lt},props:{showEmoji:{type:Boolean,default:!1},showFile:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},participants:{type:Array,required:!0},title:{type:String,required:!0},onUserInputSubmit:{type:Function,required:!0},messageList:{type:Array,default:()=>[]},isOpen:{type:Boolean,default:()=>!1},placeholder:{type:String,required:!0},showTypingIndicator:{type:String,required:!0},colors:{type:Object,required:!0},alwaysScrollToBottom:{type:Boolean,required:!0},messageStyling:{type:Boolean,required:!0}},data(){return{showUserList:!1}},computed:{messages(){let e=this.messageList;return e}},methods:{handleUserListToggle(e){this.showUserList=e},getSuggestions(){return this.messages.length>0?this.messages[this.messages.length-1].suggestions:[]}}},Ut=Bt,Et=(0,b.Z)(Ut,g,m,!1,null,"24286f22",null),Ot=Et.exports,qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAKVQTFRFAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////uP3jVQAAADd0Uk5TAE9lCAXd9XA4y/9zDQJG7HYB8Hc3yHoPQ8fuezMSoYPrEcEugj0tqb6G+Lw5ifHcKk3SIAx/MjRpS8YAAADsSURBVHic7dDJDoIwEIDhQURwQNGiIBVkUQH3BfX9H00MEvHW9qj9L3RIvkxTAJlMJvu1lI7aHtWOwm67Wk9vz3pP67Jro4+m1QyWiX2D3cJgqNmjt7ZGtjYccGAYK8R26qNjE2XMY6smU3Q9AM/F6YSTVrtnPp173pz6M969Lx1Q6rqUBgK2KvAR/UCIAoQLxEUoiCMSxyQSokmE6XKZYpQI2BVJ1wDrlKz4dXXn7PXN+G8e5lhk9TErMOd6tXCz3e2bYb/bbnj04Xg6f6bz6Xhgtxe8lu25vOKFGd/uj+8fj/uNfbVMJpP9QU/STxAzeUFqVwAAAABJRU5ErkJggg==",Ft=s.p+"static/img/logo-no-bg.3351cbe4.svg",$t={components:{ChatWindow:Ot},props:{icons:{type:Object,default:function(){return{open:{img:Ft,name:"default"},close:{img:qt,name:"default"}}}},showEmoji:{type:Boolean,default:!1},showEdition:{type:Boolean,default:!1},showDeletion:{type:Boolean,default:!1},isOpen:{type:Boolean,required:!0},open:{type:Function,required:!0},close:{type:Function,required:!0},showFile:{type:Boolean,default:!1},showLauncher:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},participants:{type:Array,required:!0},title:{type:String,default:()=>""},titleImageUrl:{type:String,default:()=>""},onMessageWasSent:{type:Function,required:!0},messageList:{type:Array,default:()=>[]},newMessagesCount:{type:Number,default:()=>0},placeholder:{type:String,default:"Write a message..."},showTypingIndicator:{type:String,default:()=>""},colors:{type:Object,validator:e=>"header"in e&&"bg"in e.header&&"text"in e.header&&"launcher"in e&&"bg"in e.launcher&&"messageList"in e&&"bg"in e.messageList&&"sentMessage"in e&&"bg"in e.sentMessage&&"text"in e.sentMessage&&"receivedMessage"in e&&"bg"in e.receivedMessage&&"text"in e.receivedMessage&&"userInput"in e&&"bg"in e.userInput&&"text"in e.userInput,default:function(){return{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#f4f7f9",text:"#ffffff"},userInput:{bg:"#f4f7f9",text:"#565867"}}}},alwaysScrollToBottom:{type:Boolean,default:()=>!1},messageStyling:{type:Boolean,default:()=>!1},disableUserListToggle:{type:Boolean,default:!1}},computed:{chatWindowTitle(){return""!==this.title?this.title:0===this.participants.length?"You":this.participants.length>1?"You, "+this.participants[0].name+" & others":"You & "+this.participants[0].name}},watch:{$props:{deep:!0,immediate:!0,handler(e){for(const t in e)u.setState(t,e[t])}}},methods:{openAndFocus(){this.open(),this.$root.$emit("focusUserInput")}}},Pt=$t,Nt=(0,b.Z)(Pt,a,n,!1,null,"e331ceb4",null),Zt=Nt.exports,Dt={data(){return{list:["Vue-cli4","配置多环境变量","VantUI 组件按需加载","Sass 全局样式","Webpack 4","Vuex 状态管理","Axios 封装及接口管理","Vue-router","Webpack 4 vue.config.js 基础配置","配置 proxy 跨域","配置 alias 别名","配置 打包分析","配置 externals 引入 cdn 资源","去掉 console.log","splitChunks 单独打包第三方模块","添加 IE 兼容","Eslint+Pettier 统一开发规范"],participants:[{id:"user1",name:"Matteo",imageUrl:"https://avatars3.githubusercontent.com/u/1915989?s=230&v=4"},{id:"user2",name:"Support",imageUrl:"https://avatars3.githubusercontent.com/u/37018832?s=200&v=4"}],titleImageUrl:"https://a.slack-edge.com/66f9/img/avatars-teams/ava_0001-34.png",messageList:[{type:"text",author:"me",data:{text:"Say yes!"}},{type:"text",author:"user1",data:{text:"No."}}],newMessagesCount:0,isChatOpen:!0,showTypingIndicator:"",colors:{header:{bg:"#4e8cff",text:"#ffffff"},launcher:{bg:"#4e8cff"},messageList:{bg:"#ffffff"},sentMessage:{bg:"#4e8cff",text:"#ffffff"},receivedMessage:{bg:"#eaeaea",text:"#222222"},userInput:{bg:"#f4f7f9",text:"#565867"}},alwaysScrollToBottom:!0,messageStyling:!0}},computed:{},mounted(){},methods:{sendMessage(e){e.length>0&&(this.newMessagesCount=this.isChatOpen?this.newMessagesCount:this.newMessagesCount+1,this.onMessageWasSent({author:"support",type:"text",data:{text:e}}))},onMessageWasSent(e){this.messageList=[...this.messageList,e]},openChat(){this.isChatOpen=!0,this.newMessagesCount=0},closeChat(){this.isChatOpen=!1},handleScrollToTop(){},handleOnType(){},editMessage(e){const t=this.messageList.find((t=>t.id===e.id));t.isEdited=!0,t.data.text=e.data.text}},components:{Launcher:Zt}},zt=Dt,Wt=(0,b.Z)(zt,o,i,!1,null,"2a6c0160",null),Ht=Wt.exports}}]);